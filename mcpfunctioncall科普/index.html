<!doctype html><html lang=zh-CN><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>MCPã€FunctionCallç§‘æ™® - Hi,Jiu.u</title><meta name=Description content="Hi,è¿™æ˜¯Jiu.uçš„ä¸ªäººåšå®¢"><meta property="og:url" content="http://example.org/mcpfunctioncall%E7%A7%91%E6%99%AE/">
<meta property="og:site_name" content="Hi,Jiu.u"><meta property="og:title" content="MCPã€FunctionCallç§‘æ™®"><meta property="og:description" content="æ³¨æ„ ä»¥ä¸‹å°† MCP (ä¸»è¦æŒ‡æœåŠ¡ç«¯) å’Œ FunctionCall (ä¸»è¦æŒ‡ OpenAI chat è§„èŒƒçš„å‡½æ•°è°ƒç”¨) éƒ½ç¬¼ç»Ÿç§°ä¸ºâ€œæ’ä»¶â€ï¼Œæ–¹ä¾¿å¿«é€Ÿç†è§£ï¼Œ"><meta property="og:locale" content="zh_CN"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-04-02T10:43:20+08:00"><meta property="article:modified_time" content="2025-04-02T10:43:20+08:00"><meta property="article:tag" content="MCP/ç§‘æ™®"><meta property="og:image" content="http://example.org/favicon.ico"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="http://example.org/favicon.ico"><meta name=twitter:title content="MCPã€FunctionCallç§‘æ™®"><meta name=twitter:description content="æ³¨æ„ ä»¥ä¸‹å°† MCP (ä¸»è¦æŒ‡æœåŠ¡ç«¯) å’Œ FunctionCall (ä¸»è¦æŒ‡ OpenAI chat è§„èŒƒçš„å‡½æ•°è°ƒç”¨) éƒ½ç¬¼ç»Ÿç§°ä¸ºâ€œæ’ä»¶â€ï¼Œæ–¹ä¾¿å¿«é€Ÿç†è§£ï¼Œ"><meta name=application-name content="Hi,Jiu.u"><meta name=apple-mobile-web-app-title content="Hi,Jiu.u"><meta name=referrer content="no-referrer"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel=icon href=/favicon.svg><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=http://example.org/mcpfunctioncall%E7%A7%91%E6%99%AE/><link rel=prev href=http://example.org/first_post/><link rel=stylesheet href=/css/style.min.css><link rel=preload href=/lib/fontawesome-free/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/fontawesome-free/css/all.min.css></noscript><link rel=preload href=/lib/animate/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=/lib/animate/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"MCPã€FunctionCallç§‘æ™®","inLanguage":"zh-CN","mainEntityOfPage":{"@type":"WebPage","@id":"http:\/\/example.org\/mcpfunctioncall%E7%A7%91%E6%99%AE\/"},"genre":"posts","keywords":"MCP\/ç§‘æ™®","wordcount":2627,"url":"http:\/\/example.org\/mcpfunctioncall%E7%A7%91%E6%99%AE\/","datePublished":"2025-04-02T10:43:20+08:00","dateModified":"2025-04-02T10:43:20+08:00","publisher":{"@type":"Organization","name":"jiu.u","logo":{"@type":"ImageObject","url":"http:\/\/example.org\/images\/avatar.png","width":180,"height":180}},"author":{"@type":"Person","name":"jiu.u"},"description":""}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=Hi,Jiu.u>Hi,Jiu.u</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>æ–‡ç«  </a><a class=menu-item href=/tags/>æ ‡ç­¾ </a><a class=menu-item href=/categories/>åˆ†ç±» </a><a class=menu-item href=/about/>å…³äº </a><span class="menu-item delimiter"></span><span class="menu-item search" id=search-desktop>
<input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-desktop>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-desktop title=æœç´¢><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-desktop title=æ¸…ç©º><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-desktop><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i>
</span></span><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜><i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=Hi,Jiu.u>Hi,Jiu.u</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><div class=search-wrapper><div class="search mobile" id=search-mobile><input type=text placeholder=æœç´¢æ–‡ç« æ ‡é¢˜æˆ–å†…å®¹... id=search-input-mobile>
<a href=javascript:void(0); class="search-button search-toggle" id=search-toggle-mobile title=æœç´¢><i class="fas fa-search fa-fw" aria-hidden=true></i>
</a><a href=javascript:void(0); class="search-button search-clear" id=search-clear-mobile title=æ¸…ç©º><i class="fas fa-times-circle fa-fw" aria-hidden=true></i>
</a><span class="search-button search-loading" id=search-loading-mobile><i class="fas fa-spinner fa-fw fa-spin" aria-hidden=true></i></span></div><a href=javascript:void(0); class=search-cancel id=search-cancel-mobile>å–æ¶ˆ</a></div><a class=menu-item href=/posts/ title>æ–‡ç« </a><a class=menu-item href=/tags/ title>æ ‡ç­¾</a><a class=menu-item href=/categories/ title>åˆ†ç±»</a><a class=menu-item href=/about/ title>å…³äº</a><a href=javascript:void(0); class="menu-item theme-switch" title=åˆ‡æ¢ä¸»é¢˜>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><div class=toc id=toc-auto><h2 class=toc-title>ç›®å½•</h2><div class=toc-content id=toc-content-auto></div></div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">MCPã€FunctionCallç§‘æ™®</h1><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://github.com/jiu-u title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>jiu.u</a></span>&nbsp;<span class=post-category>æ”¶å½•äº <a href=/categories/ai/><i class="far fa-folder fa-fw" aria-hidden=true></i>AI</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw" aria-hidden=true></i>&nbsp;<time datetime=2025-04-02>2025-04-02</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden=true></i>&nbsp;çº¦ 2627 å­—&nbsp;
<i class="far fa-clock fa-fw" aria-hidden=true></i>&nbsp;é¢„è®¡é˜…è¯» 6 åˆ†é’Ÿ&nbsp;</div></div><div class="details toc" id=toc-static data-kept><div class="details-summary toc-title"><span>ç›®å½•</span>
<span><i class="details-icon fas fa-angle-right" aria-hidden=true></i></span></div><div class="details-content toc-content" id=toc-content-static><nav id=TableOfContents><ul><li><ul><li><a href=#functioncall>FunctionCall</a></li><li><a href=#mcp>MCP</a><ul><li><a href=#cherry-studio-ä¸¾ä¾‹><code>Cherry Studio</code> ä¸¾ä¾‹</a></li><li><a href=#è‡ªå®šä¹‰åè®®-ä½¿ç”¨ç³»ç»Ÿæç¤ºè¯çš„æ–¹å¼>è‡ªå®šä¹‰åè®® (ä½¿ç”¨ç³»ç»Ÿæç¤ºè¯çš„æ–¹å¼)</a></li></ul></li><li><a href=#å‚è€ƒè§†é¢‘å’Œé“¾æ¥>å‚è€ƒè§†é¢‘å’Œé“¾æ¥ğŸ”—</a></li></ul></li></ul></nav></div></div><div class=content id=content><div class="details admonition note open"><div class="details-summary admonition-title"><i class="icon fas fa-pencil-alt fa-fw" aria-hidden=true></i>æ³¨æ„<i class="details-icon fas fa-angle-right fa-fw" aria-hidden=true></i></div><div class=details-content><div class=admonition-content><blockquote><p>ä»¥ä¸‹å°† MCP (ä¸»è¦æŒ‡æœåŠ¡ç«¯) å’Œ FunctionCall (ä¸»è¦æŒ‡ OpenAI chat è§„èŒƒçš„å‡½æ•°è°ƒç”¨) éƒ½ç¬¼ç»Ÿç§°ä¸ºâ€œæ’ä»¶â€ï¼Œæ–¹ä¾¿å¿«é€Ÿç†è§£ï¼Œ</p><ul><li>æ¨¡å‹æœ¬èº«ä¸å…·å¤‡è°ƒç”¨ function æˆ– mcp Server çš„èƒ½åŠ›</li><li>ä¸¤è€…éƒ½æ˜¯å‘Šè¯‰è¿œç¨‹æ¨¡å‹ï¼Œå®¢æˆ·ç«¯å…·å¤‡é‚£äº›é¢å¤–èƒ½åŠ›(å¦‚å¤©æ°”æ’ä»¶ã€æ•°æ®åº“æ’ä»¶ã€ç”»å›¾æ’ä»¶)ï¼Œæ¨¡å‹ä¾æ®å½“å‰ä¸Šä¸‹æ–‡ (å½“å‰è¯­å¥)ï¼Œåˆ¤æ–­å½“å‰åœºæ™¯æ˜¯å¦åº”è¯¥æ‰§è¡ŒæŸå‡ ä¸ªæ’ä»¶, ä»¥åŠå‚æ•°æ˜¯ä»€ä¹ˆ,å¹¶è¿”å›ä¸€ä¸ªç‰¹æ®Šçš„å“åº”ï¼Œå°†ç»“æœè¿”å›åˆ°å®¢æˆ·ç«¯</li><li>æ¨¡å‹æœ¬èº«åªæ˜¯è¿”å›å„ç§"æ–‡æœ¬"</li><li>å½“å®¢æˆ·ç«¯(å¦‚ CherryStudioã€NextChatã€openwebui) è§‚å¯Ÿåˆ°æ¨¡å‹è¿”å›äº†æŸç§ç‰¹æ®Šçš„å“åº”æ–‡æœ¬ï¼Œå®¢æˆ·ç«¯å°±æ‰§è¡Œæ¨¡å‹å“åº”æ–‡æœ¬ä¸­å‘ŠçŸ¥çš„æ’ä»¶ï¼Œå½“ç„¶ï¼Œå®¢æˆ·ç«¯å¯ä»¥å®Œå…¨æ— è§†æ¨¡å‹çš„ç‰¹æ®Šå“åº”</li></ul></blockquote></div></div></div><p>ä¸€ä¸ªç®€æ˜“çš„æµç¨‹å¦‚ä¸‹
<img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_ebfde1fd-40d2-441f-b02b-be335fe7e185_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_ebfde1fd-40d2-441f-b02b-be335fe7e185_image.png, https://uchat.cn-bj.ufileos.com/rw_ebfde1fd-40d2-441f-b02b-be335fe7e185_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_ebfde1fd-40d2-441f-b02b-be335fe7e185_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_ebfde1fd-40d2-441f-b02b-be335fe7e185_image.png title=image.png></p><h2 id=functioncall>FunctionCall</h2><p>ä»¥è·å–æœ¬åœ°å¤©æ°”ä¸ºä¾‹å­</p><p>è¯·æ±‚ç»“æ„å¦‚ä¸‹ï¼š
é€šè¿‡ <code>functions</code> æˆ– <code>tools</code> (æœ€æ–°çš„ <code>functions</code> çš„åˆ«å) å‘ŠçŸ¥äº†æ¨¡å‹ï¼Œå½“å‰å®¢æˆ·ç«¯å…·å¤‡è·å–å¤©æ°”çš„èƒ½åŠ›</p><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-json"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=å¤åˆ¶åˆ°å‰ªè´´æ¿><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;system&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;content&#34;</span><span class=p>:</span> <span class=s2>&#34;You are a helpful assistant.&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>},</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;user&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;content&#34;</span><span class=p>:</span> <span class=s2>&#34;ä»Šå¤©ä¸Šæµ·å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿï¼Œæ¹¿åº¦æ€ä¹ˆæ ·ï¼Ÿ&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;functions&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;get_localtion_weather&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;get_localtion_weatherï¼Œè·å–æŸä¸ªåœ°ç‚¹çš„å½“å‰å¤©æ°”æƒ…å†µ&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;parameters&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;object&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;properties&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;localtion&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;localtion,åœ°ç‚¹&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=p>},</span>
</span></span><span class=line><span class=cl>                    <span class=nt>&#34;need_humidity&#34;</span><span class=p>:{</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&#34;type&#34;</span><span class=p>:</span><span class=s2>&#34;boolean&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                        <span class=nt>&#34;description&#34;</span><span class=p>:</span><span class=s2>&#34;æ˜¯å¦è¿”å›æ¹¿åº¦ï¼Œé»˜è®¤ä¸ºfalse&#34;</span>
</span></span><span class=line><span class=cl>                    <span class=p>}</span>
</span></span><span class=line><span class=cl>                <span class=p>},</span>
</span></span><span class=line><span class=cl>                <span class=nt>&#34;required&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                    <span class=s2>&#34;localtion&#34;</span>
</span></span><span class=line><span class=cl>                <span class=p>]</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;function_call&#34;</span><span class=p>:</span> <span class=s2>&#34;auto&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;temperature&#34;</span><span class=p>:</span> <span class=mf>0.5</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;stream&#34;</span><span class=p>:</span><span class=kc>false</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;model&#34;</span><span class=p>:</span> <span class=s2>&#34;gpt-4o&#34;</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-shell"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=å¤åˆ¶åˆ°å‰ªè´´æ¿><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>curl --location <span class=s1>&#39;https://api.xxxxx.com/v1/chat/completions&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--header <span class=s1>&#39;Content-Type: application/json&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--header <span class=s1>&#39;Authorization: Bearer sk-xxxxx&#39;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--data <span class=s1>&#39;{
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;messages&#34;: [
</span></span></span><span class=line><span class=cl><span class=s1>        {
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;role&#34;: &#34;system&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;content&#34;: &#34;You are a helpful assistant.&#34;
</span></span></span><span class=line><span class=cl><span class=s1>        },
</span></span></span><span class=line><span class=cl><span class=s1>        {
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;role&#34;: &#34;user&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;content&#34;: &#34;ä»Šå¤©ä¸Šæµ·å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿï¼Œæ¹¿åº¦æ€ä¹ˆæ ·ï¼Ÿ&#34;
</span></span></span><span class=line><span class=cl><span class=s1>        }
</span></span></span><span class=line><span class=cl><span class=s1>    ],
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;functions&#34;: [
</span></span></span><span class=line><span class=cl><span class=s1>        {
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;name&#34;: &#34;get_localtion_weather&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;description&#34;: &#34;get_localtion_weatherï¼Œè·å–æŸä¸ªåœ°ç‚¹çš„å½“å‰å¤©æ°”æƒ…å†µ&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>            &#34;parameters&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                &#34;type&#34;: &#34;object&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>                &#34;properties&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                    &#34;localtion&#34;: {
</span></span></span><span class=line><span class=cl><span class=s1>                        &#34;type&#34;: &#34;string&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>                        &#34;description&#34;: &#34;localtion,åœ°ç‚¹&#34;
</span></span></span><span class=line><span class=cl><span class=s1>                    },
</span></span></span><span class=line><span class=cl><span class=s1>                    &#34;need_humidity&#34;:{
</span></span></span><span class=line><span class=cl><span class=s1>                        &#34;type&#34;:&#34;boolean&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>                        &#34;description&#34;:&#34;æ˜¯å¦è¿”å›æ¹¿åº¦ï¼Œé»˜è®¤ä¸ºfalse&#34;
</span></span></span><span class=line><span class=cl><span class=s1>                    }
</span></span></span><span class=line><span class=cl><span class=s1>                },
</span></span></span><span class=line><span class=cl><span class=s1>                &#34;required&#34;: [
</span></span></span><span class=line><span class=cl><span class=s1>                    &#34;localtion&#34;
</span></span></span><span class=line><span class=cl><span class=s1>                ]
</span></span></span><span class=line><span class=cl><span class=s1>            }
</span></span></span><span class=line><span class=cl><span class=s1>        }
</span></span></span><span class=line><span class=cl><span class=s1>    ],
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;function_call&#34;: &#34;auto&#34;,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;temperature&#34;: 0.5,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;stream&#34;:false,
</span></span></span><span class=line><span class=cl><span class=s1>    &#34;model&#34;: &#34;gpt-4o&#34;
</span></span></span><span class=line><span class=cl><span class=s1>}&#39;</span></span></span></code></pre></div></div><p>å“åº”ç»“æ„å¦‚ä¸‹ï¼š
<img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_de152be6-9ea9-43de-98b1-019f9ed5e9c5_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_de152be6-9ea9-43de-98b1-019f9ed5e9c5_image.png, https://uchat.cn-bj.ufileos.com/rw_de152be6-9ea9-43de-98b1-019f9ed5e9c5_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_de152be6-9ea9-43de-98b1-019f9ed5e9c5_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_de152be6-9ea9-43de-98b1-019f9ed5e9c5_image.png title=image.png></p><p>å®¢æˆ·ç«¯æ‰§è¡Œæœ¬åœ°çš„ <code>get_localtion_weather</code> å‡½æ•°</p><p>æ•´ä½“æµç¨‹å¦‚å›¾æ‰€ç¤º (ä¸‹å›¾æˆªå–è‡ª OpenAI çš„æ–‡æ¡£ï¼Œç¿»è¯‘æ¥è‡ªæ²‰æµ¸å¼ç¿»è¯‘)</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_d41e55c5-7988-4fb7-a09a-fb51eaf44a5d_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_d41e55c5-7988-4fb7-a09a-fb51eaf44a5d_image.png, https://uchat.cn-bj.ufileos.com/rw_d41e55c5-7988-4fb7-a09a-fb51eaf44a5d_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_d41e55c5-7988-4fb7-a09a-fb51eaf44a5d_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_d41e55c5-7988-4fb7-a09a-fb51eaf44a5d_image.png title=image.png></p><h2 id=mcp>MCP</h2><p>ç®€å•ç†è§£ï¼šfunctionCall æ˜¯å¤§å®¶è‡ªå·±å†™è‡ªå·±çš„ï¼Œæ²¡æœ‰ä¸€ç§ç»Ÿä¸€çš„çº¦å®šï¼Œè€Œ MCP æ˜¯ä¸€ç§å›å­çº¦å®šï¼ŒmcpServer (æŸ¥è¯¢å¤©æ°”æ’ä»¶) éµå¾ª MCP åè®®å¼€å‘ï¼Œç”± mcpClient (Cursor) è°ƒç”¨ï¼ŒåŸæœ¬éœ€è¦è‡ªå·±å†™å‡½æ•°ï¼Œç°åœ¨å˜æˆäº†<strong>è°ƒç”¨åˆ«äººçš„åº“</strong></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_dea11dcc-83e9-4614-b73e-0c7e98c95e8b_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_dea11dcc-83e9-4614-b73e-0c7e98c95e8b_image.png, https://uchat.cn-bj.ufileos.com/rw_dea11dcc-83e9-4614-b73e-0c7e98c95e8b_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_dea11dcc-83e9-4614-b73e-0c7e98c95e8b_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_dea11dcc-83e9-4614-b73e-0c7e98c95e8b_image.png title=image.png></p><p>MCP é‡ç‚¹åœ¨äº MCP å®¢æˆ·ç«¯ (<code>Cherry Studio</code>) å¦‚ä½•å‘ç° MCP æœåŠ¡ç«¯ (&ldquo;æ’ä»¶&rdquo;)ã€ç†è§£ â€œæ’ä»¶â€å…·å¤‡çš„èƒ½åŠ›ã€è°ƒç”¨â€œæ’ä»¶â€ã€è·å–â€œæ’ä»¶â€çš„å“åº”ç»“æœ</p><p>è‡³äº</p><ul><li>å°†å½“å‰å…·å¤‡çš„æ’ä»¶åŠŸèƒ½å‘é€åˆ°æ¨¡å‹ (functions (åˆ«å tools) æè¿°æ–¹å¼ã€æç¤ºè¯æ–¹å¼)</li><li>MCP å®¢æˆ·ç«¯ (<code>Cherry Studio</code>) å¦‚ä½•æ ¹æ®æ¨¡å‹çš„å“åº”åˆ¤æ–­æ‰§è¡Œæ˜¯å¦æ‰§è¡Œâ€œæ’ä»¶â€ï¼Œæ‰§è¡Œé‚£å‡ ä¸ªæ’ä»¶ï¼Œåˆ™æ˜¯å®¢æˆ·ç«¯è‡ªå·±å®šä¹‰</li><li>MCP å®¢æˆ·ç«¯å°†æ’ä»¶æ‰§è¡Œç»“æœè¿”å›ç»™æ¨¡å‹ï¼Œä¹Ÿæ˜¯å¯ä»¥è‡ªå·±å®šä¹‰</li></ul><p>ä»¥ä¸‹éƒ¨åˆ†åªæ˜¯åœ¨åº”ç”¨é¢†åŸŸé¢†åŸŸï¼Œä¸¾ä¾‹æè¿°äº†ç»“åˆMCP å¯¹è¯æµç¨‹ï¼Œå¹¶æ²¡æœ‰å¯¹ MCP è¿™ä¸ªâ€œå›å­çº¦å®šâ€åšå…·ä½“çš„è¯¦è§£</p><h3 id=cherry-studio-ä¸¾ä¾‹><code>Cherry Studio</code> ä¸¾ä¾‹</h3><p>é…ç½® mcpServers å¦‚ä¸‹ï¼Œå…¶ä¸­åªæœ‰ä¸€ä¸ªè·å– <code>å’Œé£å¤©æ°”</code> çš„ server
æºè‡ªï¼š<a href=https://glama.ai/mcp/servers/@shanggqm/hefeng-mcp-weather target=_blank rel="noopener noreffer">HeFeng Weather MCP Server | Glama</a></p><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-json"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=å¤åˆ¶åˆ°å‰ªè´´æ¿><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;mcpServers&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;hefeng-weather&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;isActive&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;command&#34;</span><span class=p>:</span> <span class=s2>&#34;npx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;args&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;hefeng-mcp-weather@latest&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=s2>&#34;--apiKey=key-123132131321&#34;</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><p>å¯¹è¯å¦‚ä¸‹
<img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_178d8754-cf4b-4c16-ade6-dea68e105997_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_178d8754-cf4b-4c16-ade6-dea68e105997_image.png, https://uchat.cn-bj.ufileos.com/rw_178d8754-cf4b-4c16-ade6-dea68e105997_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_178d8754-cf4b-4c16-ade6-dea68e105997_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_178d8754-cf4b-4c16-ade6-dea68e105997_image.png title=image.png></p><ol><li>æŸ¥çœ‹æœ¬åœ°æ‹¦æˆªçš„ç¬¬ä¸€æ¬¡è¯·æ±‚ï¼Œå¯ä»¥å‘ç°æ˜¯é€šè¿‡ tools æè¿°çš„æ–¹å¼ï¼Œå‘Šè¯‰æ¨¡å‹ï¼Œæœ¬åœ°å…·å¤‡é‚£äº›â€œæ’ä»¶â€ä»¥åŠå…·å¤‡ä»€ä¹ˆèƒ½åŠ›</li></ol><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-json"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=å¤åˆ¶åˆ°å‰ªè´´æ¿><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;model&#34;</span><span class=p>:</span> <span class=s2>&#34;gpt-4o&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;user&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;content&#34;</span><span class=p>:</span> <span class=s2>&#34;ä»Šå¤©ä¸Šæµ·å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;temperature&#34;</span><span class=p>:</span> <span class=mf>0.7</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;max_tokens&#34;</span><span class=p>:</span> <span class=mi>2000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;stream&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;tools&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;function&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;function&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;fd71edc4f65924613b9fd8330e78eb243&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;è·å–ä¸­å›½å›½å†…çš„å¤©æ°”é¢„æŠ¥&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;parameters&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;object&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;properties&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;location&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;é€—å·åˆ†éš”çš„ç»çº¬åº¦ä¿¡æ¯ (e.g., 116.40,39.90)&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;days&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;enum&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;now&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;24h&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;72h&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;168h&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;3d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;7d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;10d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;15d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;30d&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;é¢„æŠ¥å¤©æ•°ï¼Œnowä¸ºå®æ—¶å¤©æ°”ï¼Œ24hä¸º24å°æ—¶é¢„æŠ¥ï¼Œ72hä¸º72å°æ—¶é¢„æŠ¥ï¼Œ168hä¸º168å°æ—¶é¢„æŠ¥ï¼Œ3dä¸º3å¤©é¢„æŠ¥ï¼Œä»¥æ­¤ç±»æ¨&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><ol start=2><li>æŸ¥çœ‹ç¬¬ä¸€æ¬¡å“åº”ï¼Œæ¨¡å‹åˆ¤æ–­æ˜¯å¦æ‰§è¡Œè§¦å‘è°ƒç”¨æ’ä»¶ã€‚
æ¨¡å‹åˆ¤æ–­æ‰§è¡Œéœ€è¦ç”¨åˆ°"å¤©æ°”æ’ä»¶"ï¼Œæ¨¡å‹æœ¬èº«åªæ˜¯åšäº†åˆ¤æ–­</li></ol><p><img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_cf3d1625-72fd-4e08-a46c-2d2edef1c333_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_cf3d1625-72fd-4e08-a46c-2d2edef1c333_image.png, https://uchat.cn-bj.ufileos.com/rw_cf3d1625-72fd-4e08-a46c-2d2edef1c333_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_cf3d1625-72fd-4e08-a46c-2d2edef1c333_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_cf3d1625-72fd-4e08-a46c-2d2edef1c333_image.png title=image.png></p><ol start=3><li>MCP å®¢æˆ·ç«¯ (<code>Cherry Studio</code>) æ‰§è¡Œâ€œå¤©æ°”æ’ä»¶â€ï¼Œå¯ä»¥ç®€å•çœ‹ä½œè°ƒç”¨äº†ä¸€ä¸ªåˆ«äººå†™å¥½çš„åŒ…æˆ–API</li><li>å°†æ‰§è¡Œç»“æœè¿”å›ç»™æ¨¡å‹ï¼Œä¹Ÿå°±æ˜¯åŠ å…¥å¯¹è¯ä¸Šä¸‹æ–‡</li></ol><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-json"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=å¤åˆ¶åˆ°å‰ªè´´æ¿><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;model&#34;</span><span class=p>:</span> <span class=s2>&#34;gpt-4o&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;messages&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;user&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;content&#34;</span><span class=p>:</span> <span class=s2>&#34;ä»Šå¤©ä¸Šæµ·å¤©æ°”æ€ä¹ˆæ ·ï¼Ÿ&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;assistant&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;tool_calls&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;id&#34;</span><span class=p>:</span> <span class=s2>&#34;call_M4eYNv6oPaLunpZLe1iWdfiK&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;function&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;fd71edc4f65924613b9fd8330e78eb243&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;arguments&#34;</span><span class=p>:</span> <span class=s2>&#34;{\&#34;days\&#34;:\&#34;now\&#34;,\&#34;location\&#34;:\&#34;121,31\&#34;}&#34;</span>
</span></span><span class=line><span class=cl>          <span class=p>},</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;function&#34;</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;role&#34;</span><span class=p>:</span> <span class=s2>&#34;tool&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;content&#34;</span><span class=p>:</span> <span class=s2>&#34;[{\&#34;type\&#34;:\&#34;text\&#34;,\&#34;text\&#34;:\&#34;åœ°ç‚¹: 121,31\\nè§‚æµ‹æ—¶é—´: 2025-03-27T16:51+08:00\\nå¤©æ°”: é˜´\\næ¸©åº¦: 13Â°C\\nä½“æ„Ÿæ¸©åº¦: 12Â°C\\né£å‘: ä¸œåŒ—é£\\né£åŠ›: 1çº§\&#34;}]&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;tool_call_id&#34;</span><span class=p>:</span> <span class=s2>&#34;call_M4eYNv6oPaLunpZLe1iWdfiK&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>],</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;temperature&#34;</span><span class=p>:</span> <span class=mf>0.7</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;max_tokens&#34;</span><span class=p>:</span> <span class=mi>2000</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;stream&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;tools&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;function&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;function&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;fd71edc4f65924613b9fd8330e78eb243&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;è·å–ä¸­å›½å›½å†…çš„å¤©æ°”é¢„æŠ¥&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>        <span class=nt>&#34;parameters&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;object&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>          <span class=nt>&#34;properties&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;location&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;é€—å·åˆ†éš”çš„ç»çº¬åº¦ä¿¡æ¯ (e.g., 116.40,39.90)&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>},</span>
</span></span><span class=line><span class=cl>            <span class=nt>&#34;days&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;type&#34;</span><span class=p>:</span> <span class=s2>&#34;string&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;enum&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;now&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;24h&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;72h&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;168h&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;3d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;7d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;10d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;15d&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>                <span class=s2>&#34;30d&#34;</span>
</span></span><span class=line><span class=cl>              <span class=p>],</span>
</span></span><span class=line><span class=cl>              <span class=nt>&#34;description&#34;</span><span class=p>:</span> <span class=s2>&#34;é¢„æŠ¥å¤©æ•°ï¼Œnowä¸ºå®æ—¶å¤©æ°”ï¼Œ24hä¸º24å°æ—¶é¢„æŠ¥ï¼Œ72hä¸º72å°æ—¶é¢„æŠ¥ï¼Œ168hä¸º168å°æ—¶é¢„æŠ¥ï¼Œ3dä¸º3å¤©é¢„æŠ¥ï¼Œä»¥æ­¤ç±»æ¨&#34;</span>
</span></span><span class=line><span class=cl>            <span class=p>}</span>
</span></span><span class=line><span class=cl>          <span class=p>}</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>      <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>]</span>
</span></span><span class=line><span class=cl><span class=p>}</span></span></span></code></pre></div></div><ol start=5><li>æ¨¡å‹ç»“åˆä¸Šä¸‹æ–‡ (å‘é€çš„å¯¹è¯å†å²) è¿›è¡Œå“åº”
æˆªå–å…¶ä¸­ä¸€éƒ¨åˆ†
<img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_f275337f-744d-4b43-b630-0d4b9c30da5a_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_f275337f-744d-4b43-b630-0d4b9c30da5a_image.png, https://uchat.cn-bj.ufileos.com/rw_f275337f-744d-4b43-b630-0d4b9c30da5a_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_f275337f-744d-4b43-b630-0d4b9c30da5a_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_f275337f-744d-4b43-b630-0d4b9c30da5a_image.png title=image.png></li></ol><p><code>Cherry Studio</code> æ˜¯é€šè¿‡ functionCall çš„æ–¹å¼ï¼Œåˆ¤æ–­åº”è¯¥æ‰§è¡Œé‚£äº›â€œæ’ä»¶â€çš„åŠŸèƒ½</p><h3 id=è‡ªå®šä¹‰åè®®-ä½¿ç”¨ç³»ç»Ÿæç¤ºè¯çš„æ–¹å¼>è‡ªå®šä¹‰åè®® (ä½¿ç”¨ç³»ç»Ÿæç¤ºè¯çš„æ–¹å¼)</h3><div class="code-block code-line-numbers" style="counter-reset:code-block 0"><div class="code-header language-text"><span class=code-title><i class="arrow fas fa-angle-right fa-fw" aria-hidden=true></i></span>
<span class=ellipses><i class="fas fa-ellipsis-h fa-fw" aria-hidden=true></i></span>
<span class=copy title=å¤åˆ¶åˆ°å‰ªè´´æ¿><i class="far fa-copy fa-fw" aria-hidden=true></i></span></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-text data-lang=text><span class=line><span class=cl>ä½ æ˜¯ä¸€ä¸ªæ™ºèƒ½åŠ©æ‰‹ï¼Œä½ å…·å¤‡MCPåŠŸèƒ½ï¼ŒMCPå¯ä»¥ç†è§£ä¸ºä¸€ç§æœ¬åœ°åŠŸèƒ½æ’ä»¶ï¼Œå½“ç”¨æˆ·çš„è¯­å¥éœ€è¦è°ƒç”¨æ’ä»¶æ—¶ï¼Œä½ åº”è¯¥ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹è§„å®šè¿”å›ï¼Œè§„å®šå¦‚ä¸‹:
</span></span><span class=line><span class=cl>&lt;plug&gt;
</span></span><span class=line><span class=cl>	&lt;pn&gt;æ’ä»¶åç§°&lt;/pn&gt;
</span></span><span class=line><span class=cl>	&lt;fn&gt;å‡½æ•°åç§°(åŠŸèƒ½åç§°)&lt;/fn&gt;
</span></span><span class=line><span class=cl>	&lt;arg1&gt;å‚æ•°&lt;/arg1&gt;
</span></span><span class=line><span class=cl>	&lt;arg2&gt;å‚æ•°2&lt;arg2&gt;
</span></span><span class=line><span class=cl>	&lt;arg3&gt;å‚æ•°3&lt;arg3&gt;
</span></span><span class=line><span class=cl>&lt;plug/&gt;ã€‚
</span></span><span class=line><span class=cl>å½“æœ¬åœ°æ‰§è¡Œäº†æŸæ’ä»¶åï¼Œç»“æœå›æŒ‰ç…§ä»¥ä¸‹æ ¼å¼è¿”å›
</span></span><span class=line><span class=cl>&lt;tool_res&gt;
</span></span><span class=line><span class=cl>	&lt;plug&gt;
</span></span><span class=line><span class=cl>		&lt;pn&gt;æ’ä»¶åç§°&lt;/pn&gt;
</span></span><span class=line><span class=cl>		&lt;fn&gt;å‡½æ•°åç§°(åŠŸèƒ½åç§°)&lt;/fn&gt;
</span></span><span class=line><span class=cl>		&lt;res&gt;æ‰§è¡Œç»“æœ&lt;res/&gt;
</span></span><span class=line><span class=cl>	&lt;plug/&gt;
</span></span><span class=line><span class=cl>&lt;tool_res/&gt;
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>å½“å‰æœ¬åœ°æ’ä»¶:
</span></span><span class=line><span class=cl>1.æ’ä»¶åç§°ï¼šget_localtion_weather
</span></span><span class=line><span class=cl>	æè¿°ï¼šæŸ¥è¯¢æŸä¸ªåœ°ç‚¹å¤©æ°”æ’ä»¶
</span></span><span class=line><span class=cl>	 åŠŸèƒ½ï¼š
</span></span><span class=line><span class=cl>	 - query_now_weather:
</span></span><span class=line><span class=cl>	 	args:
</span></span><span class=line><span class=cl>	 		location:string,å¿…éœ€çš„,æŸ¥è¯¢åœ°ç‚¹
</span></span><span class=line><span class=cl>	 		need_humidityï¼šboolean,éå¿…éœ€çš„ï¼Œé»˜è®¤ä¸ºfalseï¼Œæ˜¯å¦è¿”å›æ¹¿åº¦</span></span></code></pre></div></div><p>å›¾ä¸­æ‰€ç¤ºä¸º <code>ChatBox</code>ï¼Œå…¶ä»–çš„å®¢æˆ·ç«¯ä¼šå¯¹ <code>&lt;xx>&lt;xx/></code> è¿›è¡Œå¤„ç†ï¼Œæ˜¾ç¤ºä¸å‡ºæ¥</p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_548a672e-7876-4451-a8da-5d0b2d3b6375_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_548a672e-7876-4451-a8da-5d0b2d3b6375_image.png, https://uchat.cn-bj.ufileos.com/rw_548a672e-7876-4451-a8da-5d0b2d3b6375_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_548a672e-7876-4451-a8da-5d0b2d3b6375_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_548a672e-7876-4451-a8da-5d0b2d3b6375_image.png title=image.png></p><p><img class=lazyload src=/svg/loading.min.svg data-src=https://uchat.cn-bj.ufileos.com/rw_604fce9a-f8fe-4487-a6da-6411af2c5b8c_image.png data-srcset="https://uchat.cn-bj.ufileos.com/rw_604fce9a-f8fe-4487-a6da-6411af2c5b8c_image.png, https://uchat.cn-bj.ufileos.com/rw_604fce9a-f8fe-4487-a6da-6411af2c5b8c_image.png 1.5x, https://uchat.cn-bj.ufileos.com/rw_604fce9a-f8fe-4487-a6da-6411af2c5b8c_image.png 2x" data-sizes=auto alt=https://uchat.cn-bj.ufileos.com/rw_604fce9a-f8fe-4487-a6da-6411af2c5b8c_image.png title=image.png></p><h2 id=å‚è€ƒè§†é¢‘å’Œé“¾æ¥>å‚è€ƒè§†é¢‘å’Œé“¾æ¥ğŸ”—</h2><ul><li><a href=https://www.bilibili.com/video/BV1P3XTYPEJm/ target=_blank rel="noopener noreffer">MCPæ˜¯æ€ä¹ˆå¯¹æ¥å¤§æ¨¡å‹çš„ï¼ŸæŠ“å–AIæç¤ºè¯ï¼Œæ‹†è§£MCPçš„åº•å±‚åŸç†_å“”å“©å“”å“©_bilibili</a></li><li><a href=https://www.bilibili.com/video/BV1eH4y1c7KQ target=_blank rel="noopener noreffer">ã€å¤§æ¨¡å‹å‡½æ•°è°ƒç”¨ã€‘function callingåŠè‡ªåŠ¨å‘é‚®ä»¶æ¡ˆä¾‹_å“”å“©å“”å“©_bilibili</a></li><li><a href=https://www.bilibili.com/video/BV1EAQ3YwEFC target=_blank rel="noopener noreffer">ğŸ«´æ‰‹æŠŠæ‰‹æ•™ä½ QwQ-32Bå¦‚ä½•ç©è½¬function call_å“”å“©å“”å“©_bilibili</a></li><li><a href=https://www.bilibili.com/video/BV1uXQzYaEpJ target=_blank rel="noopener noreffer">7åˆ†é’Ÿè®²æ¸…æ¥šMCPæ˜¯ä»€ä¹ˆ</a></li></ul></div><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>æ›´æ–°äº 2025-04-02</span></div></div><div class=post-info-line><div class=post-info-md><span><a class=link-to-markdown href=/mcpfunctioncall%E7%A7%91%E6%99%AE/index.md target=_blank>é˜…è¯»åŸå§‹æ–‡æ¡£</a></span></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/mcp/%E7%A7%91%E6%99%AE/>MCP/ç§‘æ™®</a></section><section><span><a href=javascript:void(0); onclick=window.history.back()>è¿”å›</a></span>&nbsp;|&nbsp;<span><a href=/>ä¸»é¡µ</a></span></section></div><div class=post-nav><a href=/first_post/ class=prev rel=prev title=æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢><i class="fas fa-angle-left fa-fw" aria-hidden=true></i>æˆ‘çš„ç¬¬ä¸€ç¯‡åšå®¢</a></div></div><div id=comments><div id=giscus class=comment></div><noscript>Please enable JavaScript to view the comments powered by <a href=https://giscus.app>Giscus</a>.</noscript></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>ç”± <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.145.0">Hugo</a> å¼ºåŠ›é©±åŠ¨ | ä¸»é¢˜ - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.3.1-DEV"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden=true></i> LoveIt</a></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://github.com/jiu-u target=_blank>jiu.u</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title=å›åˆ°é¡¶éƒ¨><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title=æŸ¥çœ‹è¯„è®º><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><link rel=stylesheet href=/lib/katex/katex.min.css><script src=/lib/autocomplete/autocomplete.min.js></script><script src=/lib/lunr/lunr.min.js></script><script src=/lib/lunr/lunr.stemmer.support.min.js></script><script src=/lib/lunr/lunr.zh.min.js></script><script src=/lib/lazysizes/lazysizes.min.js></script><script src=/lib/twemoji/twemoji.min.js></script><script src=/lib/clipboard/clipboard.min.js></script><script src=/lib/katex/katex.min.js></script><script src=/lib/katex/contrib/auto-render.min.js></script><script src=/lib/katex/contrib/copy-tex.min.js></script><script src=/lib/katex/contrib/mhchem.min.js></script><script>window.config={comment:{giscus:{category:"Announcements",categoryId:"DIC_kwDOOSQVwc4CoscZ",darkTheme:"dark",emitMetadata:"0",inputPosition:"bottom",lang:"zh-CN",lazyLoading:!0,lightTheme:"light",mapping:"pathname",reactionsEnabled:"1",repo:"jiu-u/blog_public",repoId:"R_kgDOOSQVwQ"}},math:{delimiters:[{display:!0,left:"$$",right:"$$"},{display:!0,left:"\\[",right:"\\]"},{display:!0,left:"\\begin{equation}",right:"\\end{equation}"},{display:!0,left:"\\begin{equation*}",right:"\\end{equation*}"},{display:!0,left:"\\begin{align}",right:"\\end{align}"},{display:!0,left:"\\begin{align*}",right:"\\end{align*}"},{display:!0,left:"\\begin{alignat}",right:"\\end{alignat}"},{display:!0,left:"\\begin{alignat*}",right:"\\end{alignat*}"},{display:!0,left:"\\begin{gather}",right:"\\end{gather}"},{display:!0,left:"\\begin{CD}",right:"\\end{CD}"},{display:!1,left:"$",right:"$"},{display:!1,left:"\\(",right:"\\)"}],strict:!1},search:{highlightTag:"em",lunrIndexURL:"/index.json",lunrLanguageCode:"zh",lunrSegmentitURL:"/lib/lunr/lunr.segmentit.js",maxResultLength:10,noResultsFound:"æ²¡æœ‰æ‰¾åˆ°ç»“æœ",snippetLength:50,type:"lunr"},twemoji:!0}</script><script src=/js/theme.min.js></script></body></html>